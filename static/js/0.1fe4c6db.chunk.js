(this["webpackJsonp@uniswap/interface"]=this["webpackJsonp@uniswap/interface"]||[]).push([[0],{2015:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"g",(function(){return o})),n.d(t,"e",(function(){return u}));n(169),n(2044);var r="rgw6ez17v rgw6ez117 rgw6ez7m3 rgw6ezo7 rgw6ezoj",a="_13bxg42",c="rgw6ez787 rgw6ezuv rgw6ez151 rgw6ez7fz rgw6ez76n rgw6ez4xd",i="_13bxg46 rgw6ez18d rgw6ez151 rgw6ez42p rgw6ezcv rgw6ezav rgw6ez417 rgw6ez3j rgw6ez441 rgw6ez4v rgw6ez77v",s="_13bxg48 rgw6ez7g3 rgw6ez76n rgw6ez4xj",o="_13bxg4a rgw6ez2kv rgw6ez2fd rgw6ez24d rgw6ez2a7",u="rgw6ez2qd rgw6ez77n rgw6ez4xd rgw6ez76n rgw6ez7g3"},2016:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return E})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return O}));var r=n(3),a=n.n(r),c=n(46),i=n(14),s=n(23),o=n(394),u=n(267),l=n(41),f=n(807),d=function(e){var t=e.listing,n=e.newStatus,r=e.rows,a=e.setRows,c=e.callback,i=Object(s.a)(r),o=r.findIndex((function(e){return e===t}));t.status=n,c&&(t.callback=c),i[o]=t,a(i)};function g(e,t,n,r,a,c){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(a.a.mark((function e(t,n,r,c,i,s){var p,b,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({listing:t,newStatus:l.f.SIGNING,rows:n,setRows:r,callback:function(){return g(t,n,r,c,i,s)}}),p=t.marketplace,b=t.collectionAddress,w="OpenSea"===p.name?u.b:"Rarible"===p.name?o.a:"X2Y2"===p.name?o.d:i,e.next=5,Object(f.c)(null!==w&&void 0!==w?w:"",b,c,(function(e){return d({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:t.status!==l.f.REJECTED&&t.status!==l.f.FAILED||s();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r,a,c,i,s){return w.apply(this,arguments)}function w(){return(w=Object(i.a)(a.a.mark((function e(t,n,r,c,i,s,o,u){var g,p,w,v,h;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=s(),d({listing:t,newStatus:l.f.SIGNING,rows:n,setRows:r,callback:function(){return b(t,n,r,c,i,s,o,u)}}),p=t.asset,w=t.marketplace,e.next=5,Object(f.d)(w,p,c,i,g,(function(e){return d({listing:t,newStatus:e,rows:n,setRows:r})}));case 5:v=e.sent,t.status===l.f.REJECTED?u():(v&&"LooksRare"===t.marketplace.name&&o(g+1),h=v?l.f.APPROVED:l.f.FAILED,d({listing:t,newStatus:h,rows:n,setRows:r}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.reduce((function(e,t){var n;if(null===(n=t.newListings)||void 0===n?void 0:n.length){var r,a,c=t.newListings.reduce((function(e,t){var n,r;return(null!==(n=e.price)&&void 0!==n?n:0)>(null!==(r=t.price)&&void 0!==r?r:0)?e:t})),i=c.marketplace.fee+("LooksRare"===c.marketplace.name?f.a:t.basisPoints)/100;return e+(null!==(r=c.price)&&void 0!==r?r:0)-(null!==(a=c.price)&&void 0!==a?a:0)*(i/100)}return e}),0);return t?Math.round(100*t+Number.EPSILON)/100:0},h=function(e){var t=[],n=[];return e.forEach((function(e){var r;null===(r=e.marketplaces)||void 0===r||r.forEach((function(r){var a,c,i={images:[e.smallImageUrl,r.icon],name:e.name||"#".concat(e.tokenId),status:l.f.DEFINED,asset:e,marketplace:r,price:null===(a=e.newListings)||void 0===a||null===(c=a.find((function(e){return e.marketplace.name===r.name})))||void 0===c?void 0:c.price};if(n.push(i),!t.some((function(t){return t.collectionAddress===e.asset_contract.address&&t.marketplace.name===r.name}))){var s={images:[e.asset_contract.image_url,r.icon],name:e.asset_contract.name,status:l.f.DEFINED,collectionAddress:e.asset_contract.address,marketplace:r};t.push(s)}}))})),[t,n]},m=function(e,t){var n=!0,r=!0,a=!0,i=!0,s=!0,o=!1,u=!1,f=!1,d=!1;0===e.length&&(s=i=!1);var g,p=Object(c.a)(e);try{for(p.s();!(g=p.n()).done;){var b=g.value;b.status!==l.f.PENDING&&(i=!1),b.status!==l.f.DEFINED&&(s=!1),b.status===l.f.SIGNING?o=!0:b.status===l.f.FAILED?u=!0:b.status===l.f.REJECTED?f=!0:b.status===l.f.PAUSED&&(d=!0)}}catch(m){p.e(m)}finally{p.f()}0===t.length&&(a=r=n=!1);var w,v=Object(c.a)(t);try{for(v.s();!(w=v.n()).done;){var h=w.value;h.status!==l.f.PENDING&&(n=!1),h.status!==l.f.DEFINED&&(r=!1),h.status!==l.f.APPROVED&&(a=!1),h.status===l.f.SIGNING?o=!0:h.status===l.f.FAILED?u=!0:h.status===l.f.REJECTED?f=!0:h.status===l.f.PAUSED&&(d=!0)}}catch(m){v.e(m)}finally{v.f()}return{allListingsPending:n,allListingsDefined:r,allListingsApproved:a,allCollectionsPending:i,allCollectionsDefined:s,anyActiveSigning:o,anyActiveFailures:u,anyActiveRejections:f,anyPaused:d}},E=function(e){return e!==l.f.PAUSED&&e!==l.f.APPROVED},j=function(e,t,n){e.status!==l.f.PENDING&&e.status!==l.f.DEFINED||d({listing:e,newStatus:l.f.PAUSED,rows:t,setRows:n})},O=function(e,t,n){e.status!==l.f.PAUSED&&e.status!==l.f.FAILED&&e.status!==l.f.REJECTED||d({listing:e,newStatus:l.f.DEFINED,rows:t,setRows:n})}},2019:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(46),a=n(7),c=n(226),i=n(26),s=n(47),o=n(74),u=n(79),l=n(55),f=n(35),d=n(41),g=n(259),p=n(1),b=n(2015),w=n(2016),v=n(0),h=function(e){var t=e.onClick,n=e.buttonText,h=e.showWarningOverride,m=void 0!==h&&h,E=Object(f.m)((function(e){return e.sellAssets})),j=Object(f.m)((function(e){return e.addMarketplaceWarning})),O=Object(f.m)((function(e){return e.removeAllMarketplaceWarnings})),D=Object(f.k)((function(e){return e.listingStatus})),N=Object(f.k)((function(e){return e.setListingStatus})),I=Object(f.k)((function(e){return e.setListings})),k=Object(f.k)((function(e){return e.setCollectionsRequiringApproval})),x=Object(p.useState)(!1),P=Object(a.a)(x,2),z=P[0],A=P[1],S=Object(p.useState)(!1),R=Object(a.a)(S,2),y=R[0],L=R[1],C=Object(p.useRef)(null);Object(c.a)(C,(function(){A(!1)})),Object(p.useEffect)((function(){var e=Object(w.c)(E),t=Object(a.a)(e,2),n=t[0],r=t[1];I(r),k(n),N(d.f.DEFINED)}),[E]);var F=Object(p.useMemo)((function(){var e,t=E.some((function(e){return void 0===e.marketplaces})),n=E.some((function(e){return null!=e.expirationTime&&1e3*e.expirationTime-Date.now()<6e4})),a=E.some((function(e){return null!=e.expirationTime&&isNaN(e.expirationTime)})),c=E.some((function(e){return null!=e.expirationTime&&e.expirationTime-Date.now()>15552e6})),i=[],s=[],o=[],u=[],l=Object(r.a)(E);try{for(l.s();!(e=l.n()).done;){var f=e.value;if(f.newListings){var d,g=Object(r.a)(f.newListings);try{for(g.s();!(d=g.n()).done;){var p=d.value;p.price?isNaN(p.price)||p.price<0?u.push([f,p]):p.price<f.floorPrice&&!p.overrideFloorPrice?s.push([f,p]):f.floor_sell_order_price&&p.price>f.floor_sell_order_price&&o.push([f,p]):i.push([f,p])}}catch(w){g.e(w)}finally{g.f()}}}}catch(w){l.e(w)}finally{l.f()}var b=0===s.length&&0===o.length;return L(b),[t,n,a,c,i,s,o,u]}),[E]),G=Object(a.a)(F,8),T=G[0],_=G[1],U=G[2],J=G[3],V=G[4],W=G[5],M=G[6],q=G[7],H=Object(p.useMemo)((function(){return[T||_||U||J||q.length>0||V.length>0,T?"No marketplaces selected":_?"Set duration":U?"Invalid duration":J?"Max duration is 6 months":V.length>0?"".concat(V.length," item price").concat(Object(g.a)(V.length)," not set"):q.length>0?"".concat(q.length," price").concat(Object(g.a)(q.length)," are invalid"):W.length>0?"".concat(W.length," item").concat(Object(g.a)(W.length)," listed below floor"):M.length>0?"".concat(M.length," item").concat(Object(g.a)(M.length)," already listed"):""]}),[T,_,U,J,V,q,W,M]),X=Object(a.a)(H,2),Y=X[0],B=X[1];Object(p.useEffect)((function(){A(!1)}),[B]);var K=function(){!Y&&y||m?t():function(){if(O(),!_&&!T)if(V.length>0){var e,t=Object(r.a)(V);try{for(t.s();!(e=t.n()).done;){var n=Object(a.a)(e.value,2),c=n[0],i=n[1];j(c,{message:"PLEASE SET A PRICE",marketplace:i.marketplace})}}catch(d){t.e(d)}finally{t.f()}}else if(q.length>0){var s,o=Object(r.a)(q);try{for(o.s();!(s=o.n()).done;){var u=Object(a.a)(s.value,2),l=u[0],f=u[1];!f.overrideFloorPrice&&j(l,{message:"INVALID PRICE",marketplace:f.marketplace})}}catch(d){o.e(d)}finally{o.f()}}A(!0)}()};return Object(v.jsxs)(i.b,{position:"relative",width:"full",children:[!m&&z&&B.length>0&&Object(v.jsxs)(s.c,{className:"".concat(u.c," ").concat(b.g),transition:"250",onClick:function(){return A(!1)},color:"textSecondary",zIndex:"3",borderRadius:"4",backgroundColor:"backgroundSurface",height:Y?"36":"64",maxWidth:"276",position:"absolute",left:"24",bottom:"52",flexWrap:Y?"nowrap":"wrap",style:{maxWidth:Y?"":"225px"},ref:C,children:[Object(v.jsx)(o.C,{}),Object(v.jsx)(i.b,{marginLeft:"4",marginRight:"8",children:B}),Y?Object(v.jsx)(i.b,{paddingTop:"6",children:Object(v.jsx)(o.ab,{fill:l.c.colors.textSecondary,height:"20",width:"20"})}):Object(v.jsxs)(s.c,{marginLeft:"72",cursor:"pointer",color:"accentAction",onClick:function(){A(!1),L(!0),t()},children:["Continue",Object(v.jsx)(o.f,{height:"20",width:"20"})]})]}),Object(v.jsx)(i.b,{as:"button",border:"none",backgroundColor:"accentAction",cursor:[d.f.APPROVED,d.f.PENDING,d.f.SIGNING].includes(D)||Y?"default":"pointer",color:"explicitWhite",className:b.a,onClick:function(){return D!==d.f.APPROVED&&K()},type:"button",style:{opacity:![d.f.DEFINED,d.f.FAILED,d.f.CONTINUE].includes(D)||Y?.3:1},children:D===d.f.SIGNING||D===d.f.PENDING?Object(v.jsxs)(s.c,{gap:"8",children:[Object(v.jsx)(o.H,{stroke:"backgroundSurface",height:"20",width:"20"}),D===d.f.PENDING?"Pending":"Proceed in wallet"]}):D===d.f.APPROVED?"Complete!":D===d.f.PAUSED?"Paused":D===d.f.FAILED?"Try again":D===d.f.CONTINUE?"Continue":n})]})}},2044:function(e,t,n){}}]);
//# sourceMappingURL=0.1fe4c6db.chunk.js.map